#include <ESP8266WiFi.h>
#include <DNSServer.h>
#include <ESP8266WebServer.h>


//EN_Connect your Wemos D1 mini to your computer using a micro USB cable. Next you'll select the serial port your computer will use to communicate with your board. In the menu bar, go to Tools > Port and select /dev/cu.usbserial-1420. The number at the end will probably be different for you.

//ES_Conecta tu Wemos D1 mini al ordenador mediante un cable micro USB. Después, selecciona el puerto que tu ordenador utilizará para comunicarse con tu placa. En la barra de menús, ve a Herramientas > Puerto y selecciona /dev/cu.usbserial-1420. El número al final puede que sea diferente para ti :)

const byte DNS_PORT = 53;
IPAddress apIP(172, 217, 28, 1);
DNSServer dnsServer;
ESP8266WebServer webServer(80);

String responseHTML = "<!DOCTYPE html>"
"<html lang='es'>"
"<head>"
"<meta charset='utf-8'>"
"<meta name='viewport' content='width=device-width, initial-scale=1'>"
"<title>silicio</title>"
"<style>"
"p {font-family: sans-serif, serif; font-size: 200%; text-align: center;}"
"</style>"
"</head>"
"<body bgcolor='white'>"
"<p>FUI SOBRE AGUA EDIFICADA <br> MIS MUROS DE FUEGO SON</p>"
"<p><img src='data:image/jpeg;base64,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'/></p>"
"<p>NO MEMORY <br> NO INTERNET</p>"
"</body>"
"</html>";

void setup() {
  pinMode(LED_BUILTIN, OUTPUT); //  Configura el pin del LED integrado del dispositivo como salida.
  WiFi.mode(WIFI_AP); // Configura el módulo Wi-Fi en modo de punto de acceso (AP).
  WiFi.softAPConfig(apIP, apIP, IPAddress(255,255,255,0)); // Configura la dirección IP, la puerta de enlace y la máscara de subred del punto de acceso.
  WiFi.softAP("MADRID ES AGUA Y SILICIO"); //Establece el nombre de la red Wi-Fi
  dnsServer.start(DNS_PORT, "*", apIP); // Inicia el servidor DNS
  webServer.onNotFound([]() {
    webServer.send(200, "text/html", responseHTML); // Envía el HTML
    digitalWrite(LED_BUILTIN, LOW); // Hace parpadear el led para informar que todo funciona correctamente
    delay(500);
    digitalWrite(LED_BUILTIN, HIGH);
  });
  webServer.begin(); // Inicia el servidor WEB
}

void loop() {
 if (WiFi.softAPgetStationNum() == 0)
 {
    delay(100); //Si no hay dispositivos conectados, espera
 } else {
    delay(100);
    dnsServer.processNextRequest(); // Si hay dispositivos, atiende a la petición y envía el HTML
    webServer.handleClient();
 }
}